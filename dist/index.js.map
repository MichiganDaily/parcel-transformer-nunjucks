{"mappings":";;;;;;;;;;;;;;;IAGA,wCAqBG,GArBY,GAAG,CAAC,+BAAW,CAAC,CAAC;UACxB,UAAU,EAAC,CAAC,SAAC,MAAM,EAAC,CAAC,EAAE,CAAC;QAC5B,EAAmB,AAAnB,iBAAmB;QACnB,KAAK,CAAC,CAAC,WAAC,QAAQ,EAAC,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YAAA,CAAa;QAAA,CAAC;QAC3D,EAA8B,AAA9B,4BAA8B;QAC9B,GAAG,CAAC,MAAM,GAAG,IAAI;QACjB,EAAE,EAAE,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAC9B,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YAAA,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM;QAAA,CAAC,GAAG,QAAQ;QAE5E,MAAM,CAAC,CAAC;YACN,MAAM,EAAE,QAAQ;oBAChB,MAAM;QACR,CAAC;IACH,CAAC;UACK,SAAS,EAAC,CAAC,QAAC,KAAK,WAAE,MAAM,EAAC,CAAC,EAAE,CAAC;QAClC,yBAAS,CAAC,CAAC;YAAC,UAAU,EAAE,KAAK;QAAC,CAAC;QAC/B,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,OAAO;QAC9B,GAAG,CAAC,MAAM,GAAG,4BAAY,CAAC,IAAI,EAAE,MAAM;QACtC,KAAK,CAAC,OAAO,CAAC,MAAM;QACpB,MAAM,CAAC,CAAC;YAAA,KAAK;QAAA,CAAC;IAChB,CAAC;AACH,CAAC","sources":["Documents/Projects/Daily/parcel-transformer-nunjucks/src/index.js"],"sourcesContent":["import { Transformer } from \"@parcel/plugin\";\nimport { renderString, configure } from \"nunjucks\";\n\nexport default new Transformer({\n  async loadConfig({ config }) {\n    // load config file\n    const { contents } = await config.getConfig([\"config.json\"]);\n    // find archie files to insert\n    let archie = null;\n    if (contents.fetch.archie.output) {\n      archie = (await config.getConfig([contents.fetch.archie.output])).contents;\n    }\n    return {\n      config: contents,\n      archie,\n    };\n  },\n  async transform({ asset, config }) {\n    configure({ autoescape: false })\n    let code = await asset.getCode();\n    let result = renderString(code, config)\n    asset.setCode(result)\n    return [asset];\n  },\n});\n"],"names":[],"version":3,"file":"index.js.map"}